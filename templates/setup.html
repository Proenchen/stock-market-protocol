<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Stock Market Protocol</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    <script src="{{ url_for('static', filename='js/copy.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <nav class="navbar bg-dark navbar-expand-lg border-bottom border-body px-4" id="navbar" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/home">Global Stock Market Protocol</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/upload">Upload</a></li>
                    <li class="nav-item dropdown">
                        <button class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
                            aria-expanded="false">Code</button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/overview">Overview</a></li>
                            <li><a class="dropdown-item" href="/setup">Setup</a></li>
                            <li><a class="dropdown-item" href="/usage">Extension</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="/contact">Contact</a></li>
                    <li class="nav-item">
                        <button id="theme-switch">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"
                                fill="#e3e3e3">
                                <path
                                    d="M479.96-144Q340-144 242-242t-98-238q0-140 97.93-238t237.83-98q13.06 0 25.65 1 12.59 1 25.59 3-39 29-62 72t-23 92q0 85 58.5 143.5T648-446q49 0 92-23t72-62q2 13 3 25.59t1 25.65q0 139.9-98.04 237.83t-238 97.93Z" />
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"
                                fill="#e3e3e3">
                                <path
                                    d="M479.77-288Q400-288 344-344.23q-56-56.22-56-136Q288-560 344.23-616q56.22-56 136-56Q560-672 616-615.77q56 56.22 56 136Q672-400 615.77-344q-56.22 56-136 56ZM216-444H48v-72h168v72Zm696 0H744v-72h168v72ZM444-744v-168h72v168h-72Zm0 696v-168h72v168h-72ZM269-642 166-742l51-55 102 104-50 51Zm474 475L642-268l49-51 103 101-51 51ZM640-691l102-101 51 49-100 103-53-51ZM163-217l105-99 49 47-98 104-56-52Z" />
                            </svg>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1>Setup</h1>

        <ol class="list-group list-group-unnumbered">
            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-2">1. Clone the repository</h5>
                <div class="position-relative">
                    <pre
                        class="bg-dark text-light p-3 rounded mt-3"><code>git clone https://github.com/Proenchen/stock-market-protocol.git</code></pre>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-2">2. Navigate into the project directory</h5>
                <div class="position-relative">
                    <pre class="bg-dark text-light p-3 rounded mt-3"><code>cd stock-market-protocol</code></pre>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-2">3. Create a virtual environment</h5>
                <div class="position-relative">
                    <pre class="bg-dark text-light p-3 rounded mt-3"><code>python -m venv venv</code></pre>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-3">4. Activate the virtual environment</h5>
                <div class="row g-3">
                    <div class="col-md-6">
                        <p>Windows</p>
                        <div class="position-relative">
                            <pre class="bg-dark text-light p-3 rounded mt-3"><code>.\venv\Scripts\activate</code></pre>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <p>macOS / Linux</p>
                        <div class="position-relative">
                            <pre class="bg-dark text-light p-3 rounded mt-3"><code>source venv/bin/activate</code></pre>
                        </div>
                    </div>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-2">5. Install dependencies</h5>
                <div class="position-relative">
                    <pre class="bg-dark text-light p-3 rounded mt-3"><code>pip install -r requirements.txt</code></pre>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-3">6. Prepare the data</h5>
                <p>Create a folder named <code>data</code> inside the project directory and insert all necessary data
                    files.
                    If required, update the data file paths in <code>logic/analysis.py</code>:</p>
                <div class="position-relative">
                    <pre class="bg-dark text-light p-3 rounded mt-3"><code>crsp_full = pd.read_csv("./data/dsws_crsp.csv")
factors_full = pd.read_csv("./data/Factors.csv")
fm_full = pd.read_csv("./data/Fama_Macbeth.csv")
corr_full = pd.read_parquet("./data/Predictor_different.parquet")</code></pre>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <div class="d-flex align-items-center gap-2">
                    <h5 class="fw-semibold mb-3">7. Configure mailing service</h5>
                </div>
                <p>Create a <code>.env</code> file in the project root
                    (<code>stock-market-protocol</code>) and add:</p>
                <div class="position-relative">
                    <pre class="bg-dark text-light p-3 rounded mt-3"><code>SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
EMAIL_USER=globalstockmarketprotocol@gmail.com
EMAIL_PASSWORD=••••-app-password-••••</code></pre>
                </div>
                <p>
                    <strong>Note:</strong> If you use Gmail, <code>EMAIL_PASSWORD</code> must be an
                    <a href="https://support.google.com/accounts/answer/185833" target="_blank" rel="noopener">App
                        Password</a>.
                </p>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-2">8. Run the application</h5>
                <div class="position-relative">
                    <pre class="bg-dark text-light p-3 rounded mt-3"><code>python -u app.py</code></pre>
                </div>
            </li>

            <li class="list-group-item border-0 px-0">
                <h5 class="fw-semibold mb-2">9. Open in browser</h5>
                <p class="mb-0">Visit
                    <a href="http://127.0.0.1:5000" target="_blank" rel="noopener">http://127.0.0.1:5000</a>
                    in your browser to start using the application.
                </p>
            </li>
        </ol>
    </div>

    <div class="footer">
        <p>&copy; 2025 Global Stock Market Protocol by Julian Shen and Jiexuan Gao</p>
    </div>
</body>

</html>